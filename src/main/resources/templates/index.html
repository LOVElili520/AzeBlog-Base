<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Home</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

    <!-- Bootstrap styles -->
    <link rel="stylesheet" href="../static/css/bootstrap.min.css">

    <!-- Font-Awesome -->
    <link rel="stylesheet" href="../static/css/font-awesome/css/font-awesome.min.css">

    <!-- Google Webfonts -->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600|PT+Serif:400,400italic' rel='stylesheet'
          type='text/css'>

    <!-- Styles -->
    <link rel="stylesheet" href="../static/css/style.css" id="theme-styles">
    <style>
        [v-cloak] {
            display: none;
        }
    </style>

    <!--[if lt IE 9]>
    <script src="../static/js/respond.js"></script>
    <![endif]-->

</head>
<div id="app" v-cloak>
    <header>
        <div class="widewrapper masthead">
            <div class="container">
                <a href="index.html" id="logo">
                    <img src="../static/img/Aze.png" alt="clean Blog">
                </a>

                <div id="mobile-nav-toggle" class="pull-right">
                    <a href="#" data-toggle="collapse" data-target=".clean-nav .navbar-collapse">
                        <i class="fa fa-bars"></i>
                    </a>
                </div>

                <nav class="pull-right clean-nav">
                    <div class="collapse navbar-collapse">
                        <ul class="nav nav-pills navbar-nav">

                            <li>
                                <a href="index.html">主页</a>
                            </li>
                            <li>
                                <a href="about.html">关于我们</a>
                            </li>
                            <li>
                                <a href="contact.html">商业合作</a>
                            </li>
                            <li>
                                <a onclick="window.open('admin-home.html')">后台管理</a>
                            </li>
                        </ul>
                    </div>
                </nav>

            </div>
        </div>

        <div class="widewrapper subheader">
            <div class="container">
                <div class="clean-breadcrumb">
                    <a href="#">小泽室长博客</a>
                </div>

                <div class="clean-searchbox">
                    <form action="#" method="get" accept-charset="utf-8">
                        <input class="searchfield" id="searchbox" type="text" placeholder="Search">
                        <button class="searchbutton" type="submit">
                            <i class="fa fa-search"></i>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </header>

    <div class="widewrapper main">
        <div class="container">
            <div class="row">
                <div class="col-md-8 blog-main">
                    <div class="row">
                        <div class="col-md-6 col-sm-6" v-for="item in blogList">
                            <article class=" blog-teaser">
                                <header>
                                    <img :src="item.imageUrl" alt="">
                                    <h3><a @click="toSingle(item.id)">{{item.title}}</a></h3>
                                    <span class="meta">{{item.createTime}}, {{item.userId}}</span>
                                    <hr>
                                </header>
                            </article>
                        </div>
                        <!--                        <div class="col-md-6 col-sm-6">-->
                        <!--                            <article class="blog-teaser">-->
                        <!--                                <header>-->
                        <!--                                    <img src="../static/img/2.jpg" alt="">-->
                        <!--                                    <h3><a href="single.html">黑色日记</a></h3>-->
                        <!--                                    <span class="meta">19 August 2015, John Doe</span>-->
                        <!--                                    <hr>-->
                        <!--                                </header>-->
                        <!--                            </article>-->
                        <!--                        </div>-->
                    </div>

                    <div class="paging">
                        <a href="#" class="older">较早的文章</i></a>
                    </div>
                </div>

                <!--侧边栏开始-->
                <aside class="col-md-4 blog-aside">

                    <div class="aside-widget">
                        <header>
                            <h3>精选文章</h3>
                        </header>
                        <div class="body">
                            <ul class="clean-list">
                                <li v-for="item in stickBlog"><a @click="toSingle(item.id)">{{item.title}}</a></li>
                            </ul>
                        </div>
                    </div>

                    <!--Related Post  相关文章-->
                    <div class="aside-widget">
                        <header>
                            <h3>相关文章</h3>
                        </header>
                        <div class="body">
                            <ul class="clean-list">
                                <li v-for="item in blogList" @click="toSingle(item.id)"><a>{{item.title}}</a></li>
                            </ul>
                        </div>
                    </div>

                    <div class="aside-widget">
                        <header>
                            <h3>文章标签</h3>
                        </header>
                        <div class="body clearfix">
                            <ul class="tags">
                                <li v-for="item in tagList" @click="toSingle(item.tagId)"><a>{{item.tagName}}</a></li>
                            </ul>
                        </div>
                    </div>
                </aside>
                <!--侧栏结束-->

                <!--底栏——备案号-->
                <div class="copyrights">Collect from <a href="" title="小泽学长">网站模板</a></div>
            </div>
        </div>
    </div>

    <footer>
        <div class="widewrapper footer">
            <div class="container">
                <div class="row">
                    <div class="col-md-4 footer-widget">
                        <h3><i class="fa fa-user"></i>About</h3>

                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab animi laboriosam nostrum
                            consequatur fugiat at, labore praesentium modi, quasi dolorum debitis reiciendis facilis,
                            dolor saepe sint nemo, earum molestias quas.</p>
                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolorum, error aspernatur assumenda
                            quae eveniet.</p>
                    </div>

                    <div class="col-md-4 footer-widget">
                        <h3><i class="fa fa-pencil"></i> Recent Post</h3>
                        <ul class="clean-list">
                            <li><a href="">Clean - Responsive HTML5 Template</a></li>
                            <li><a href="">Responsive Pricing Table</a></li>
                            <li><a href="">Yellow HTML5 Template</a></li>
                        </ul>
                    </div>

                    <div class="col-md-4 footer-widget">
                        <h3><i class="fa fa-envelope"></i>Contact Me</h3>

                        <p>Lorem ipsum dolor sit amet Lorem ipsum dolor sit amet.</p>
                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nihil fugiat, cupiditate veritatis
                            excepturi tempore explicabo.</p>
                        <div class="footer-widget-icon">
                            <i class="fa fa-facebook"></i><i class="fa fa-twitter"></i><i class="fa fa-google"></i>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="widewrapper copyright">
            Copyright 2015 . More Templates <a href="http://www.moobnn.com/" target="_blank" title="模板在线">模板在线</a> <a
                href="http://guantaow.taobao.com" target="_blank">厚朴网络 淘宝店</a> - Collect from <a
                href="http://www.moobnn.com/" title="模板在线" target="_blank">模板在线</a> <a href="http://guantaow.taobao.com"
                                                                                       target="_blank">厚朴网络 淘宝店</a>
        </div>
    </footer>
</div>
<script src="../static/js/jquery.min.js"></script>
<script src="../static/js/bootstrap.min.js"></script>
<script src="../static/js/modernizr.js"></script>
<!--导入vue-->
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<script src="https://unpkg.com/element-ui/lib/index.js"></script>

<script>
    // require(['jquery', 'vue', 'utils', 'global'], function ($, Vue, utils) {
    // var id = utils.getUrlParams('id');

    new Vue({
        el: '#app',
        data: {
            blog: {
                id: '',
                name: '',
                title: ''
            },
            blogList: [],
            tagList: [],
            stickBlog: [],
        },
        created() {
            this.listBlog();
            this.listTag();
            this.listStickBlog();
        },
        mounted() {
        },

        methods: {

            /*查询所有博客 */
            listBlog() {
                var that = this;
                $.ajax({
                    type: 'GET',
                    url: '/api/blog/list',
                    success: function (data) {
                        that.blogList = data.data;
                        /*循环便利数据为其拼接图片路径*/
                        for (var i = 0, len = that.blogList.length; i < len; i++) {
                            that.blogList[i].imageUrl = "http://" + window.location.host + "/" + that.blogList[i].imageUrl; //获取当前索引的键值
                        }
                    }
                });
            },

            /*查询置顶博客*/
            listStickBlog() {
                var that = this;
                $.ajax({
                    type: 'GET',
                    url: '/api/blog/select-by-stick',
                    success: function (data) {
                        that.stickBlog = data.data;
                    }
                });
            },

            //查询标签
            listTag: function () {
                var that = this;
                $.ajax({
                    type: 'GET',
                    url: '/api/tag/list',
                    success: function (data) {
                        that.tagList = data.data;
                    }
                });
            },


            /*跳转博客详情页面*/
            toSingle(id) {
                //原窗口打开
                window.location.href = "single.html?blogId=" + id;
            }
        }
    });
    // });
</script>
</body>
</html>